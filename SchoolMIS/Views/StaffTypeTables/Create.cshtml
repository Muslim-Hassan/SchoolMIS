@model SchoolMIS.Models.StaffTypeTable

<link href="~/Content/custom/customCSS.css" rel="stylesheet" />
<div class="container-fluid p-2">
    <div class="row">
        <div class="d-flex justify-content-md-between pt-2 pb-4">
            <h4><b> اداری کارکوونکی د ډول معلومات اضافه کول</b></h4>
            <h4><b>Create New Staff Type Information</b></h4>

        </div>
    </div>
   
    @* this isalert section*@
    <div id="resultMessage"></div>
    <div class="row card d-flex flex-row">
        <div class=" col-5 mt-5  ">
            <form id="staffTypeForm">
                @Html.AntiForgeryToken()
                <div class="form-group">
                    <p class="control-label  col-4 mb-0">اداری ډول</p>
                    <div class="col-md-12">
                        <input type="text" name="Type" id="Type" class="form-control" />
                    </div>
                </div>

                <div class="form-group">
                    <p class="control-label col-4 mb-0">وضاحت</p>
                    <div class="col-12">
                        <input type="text" name="Description" id="Description" class="form-control" />
                    </div>
                </div>

                    <div class="col-md-9 btn-group mt-4 ">
                        <a href="@Url.Action("Index","StaffTypeTables")" class="btn btn-outline-success border-bottom-success">لیست ته شاتګ </a>
                        <button type="submit" class="btn btn-primary">معلومات اضافه کول</button>
                    </div>
              

            </form>

        </div>
        <div class=" col-7">
            <img src="~/Content/image/school4.jpg" style="width:650px;height:300px" />

        </div>
    </div>
</div>

<script src="~/Scripts/jquery-3.7.0.min.js"></script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
<script>
    $(document).ready(function () {

        $("#staffTypeForm").validate({
            rules: {
                Type: {
                    required: true,
                    minlength: 4,
                },
                Description: {
                    required: true,
                    minlength: 10,
                },
            },

    submitHandler: function (form) {
        var formData = $("#staffTypeForm").serialize();

         $.ajax({
             url: '@Url.Action("Create","StaffTypeTables")',
             type: 'POST',
             data: formData,
             success: function (response) {
                 if (response.success) {
                     $("#resultMessage").html("<div class='alert alert-success'>" + response.msg + "</div>");
                     $("#staffTypeForm")[0].reset();
                     window.location.href = response.redirectUrl;
                 } else {
                     $("#resultMessage").html("<div class='alert alert-danger'>" + response.msg  + "</div>");
                 }
             },
             error: function () {
                 $("#resultMessage").html("<div class='alert alert-danger'>An error occurred.</div>");
             }
         });
     }
 });
        });
</script>

