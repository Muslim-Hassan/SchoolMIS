@model IEnumerable<SchoolMIS.Models.StaffAttendencyTable>
@{

    Layout = null;
}

<!DOCTYPE html>


<html dir="rtl">
<head>
    <meta name="viewport" content="width=device-width" />
    <link href="~/Content/custom/customCSS.css" rel="stylesheet" />
    <link href="~/Content/css/sb-admin-2.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.7.0.min.js"></script>
    <title>Staff Attendency </title>
</head>
<body class="pashtoFont p-4">
    <div class="container-fluid">
        <div class="col-12 d-flex flex-row justify-content-between  mb-3 p-3">

            <img src="~/Content/image/logo1.jpg" style="width:150px ;height:85px" />
            <div class="text-center">
                <h2><b>چاردیوال خصوصی ښوونځی </b></h2>
                <h4><b>د میاشتی  په اساس  د استاذانو د حاضری راپور  </b></h4>
            </div>
            <img src="~/Content/image/aei.jpg" style="width: 110px; height: 80px" />

        </div>

        <form action="/StaffAttendencyTables/stfAttendency " method="post">
            <div class="row mb-4">
                <div class="col-md-5 d-flex flex-row  ">
                    <label class="text-center ms-2 mt-2"><b>شاګرد </b></label>
                    @Html.DropDownList("StaffID", null, htmlAttributes: new { @class = "form-control" })
                </div>

                <div class="col-md-5  d-flex flex-row ">
                    <label class="text-center  ms-2 mt-2"><b>میاشت </b></label>
                    <select type="text" name="Month" id="Month" class="form-control hideInPrint" style="width: 100%; height: 40px">
                        <option value="All">All</option>
                        <option value="January">January</option>
                        <option value="Feberuary">Feberuary</option>
                        <option value="March">March</option>
                        <option value="April">April</option>
                        <option value="May">May</option>
                        <option value="June">June</option>
                        <option value="July">July</option>
                        <option value="August">August</option>
                        <option value="September">September</option>
                        <option value="October">October</option>
                        <option value="November">November</option>
                        <option value="December">December</option>

                    </select>
                </div>
                <div class="col-md-2 p-0" >
                    <button type="submit"style="width:93%" class="btn btn-primary hideInPrint"> جوړ کړئ</button>


                </div>
            </div>


        </form>


        @{
            foreach (var item in Model)
            {
                ViewBag.name = item.StaffTable.Name;
                ViewBag.fName = item.StaffTable.FatherName;
                ViewBag.staffType = item.StaffTable.StaffTypeTable.Type;
                ViewBag.salary = item.StaffTable.salary;

            }
        }
        <table class="table table-bordered ">
            <thead class="">
                <tr>
                    <th colspan="2" class="bg-light text-center">
                        نوم :
                        @ViewBag.name

                    </th>

                    <th class="bg-light text-center">
                        پلار نوم :

                        @ViewBag.fName


                    </th>

                    <th class="bg-light text-center">
                        کارن ډول :
                        @ViewBag.staffType
                    </th>
                    <th class="bg-light text-center">
                        تنخوا :
                        @ViewBag.salary
                    </th>

                </tr>
            </thead>


        </table>
        @*this is second table for loop iteration*@
        <table class="table table-bordered">
            <thead class="table-active">
                <tr>
                    <th>میاشت</th>
                    <th> رسمی ورځی</th>
                    <th> حاضر</th>
                    <th> غیر حاضر</th>
                    <th>تاریخ</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Month)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.FormalDays)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Present)
                        </td>
                        <td>
                            @{
                                var fday = @item.FormalDays;
                                var pre = item.Present;
                                var absent = fday - pre;
                            }
                            @absent
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.SubmisionDate)
                        </td>



                    </tr>
                }
            </tbody>
        </table>





    </div>
    <div class="col-12  d-flex flex-row justify-content-center" dir="ltr">
        <div>
            <a href="@Url.Action("Dashboard","Home")" id="hideInPrint" class="btn btn-success ">کور پاڼی ته شاتګ </a>
            <a class="btn btn-primary " id="hideInPrint" onclick="window.print()">PDF ذخیره کړئ </a>
            <a class="btn btn-primary  " id="hideInPrint" onclick="window.print()">راپور پرنټ کړئ </a>
        </div>
    </div>
</body>
</html>


